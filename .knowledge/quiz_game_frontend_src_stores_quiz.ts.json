{"is_source_file": true, "format": "TypeScript", "description": "This file defines the store for quiz state management in a Vue 3 application using Pinia. It includes type definitions for quiz questions, categories, session schema, and methods for loading questions, handling answers, managing timers, lifelines, and score storage.", "external_files": ["pinia", "vue"], "external_methods": ["defineStore", "ref", "computed"], "published": ["useQuizStore"], "classes": [], "methods": [{"name": "async function loadQuestions(): Promise<void> { loadQuestions", "description": "Fetches quiz questions from backend or falls back to local data if backend URL isn't configured.", "scope": "", "scopeKind": ""}, {"name": "function selectOption(index: number) { selectOption", "description": "Selects an answer option for the current question.", "scope": "", "scopeKind": ""}, {"name": "function submitAnswer(): { correct: boolean } { submitAnswer", "description": "Submits the selected answer for the current question and updates the score.", "scope": "", "scopeKind": ""}, {"name": "function nextQuestion(): boolean { nextQuestion", "description": "Advances to the next question if available.", "scope": "", "scopeKind": ""}, {"name": "function addScore(entry: { player?: string | null; score: number; total: number; category: Cat/ addScore", "description": "Adds a completed quiz score to local storage.", "scope": "", "scopeKind": ""}, {"name": "function listScores(): ScoreEntry[] { listScores", "description": "Returns the list of saved scores from local storage.", "scope": "", "scopeKind": ""}, {"name": "function clearScores(): void { clearScores", "description": "Clears all saved scores.", "scope": "", "scopeKind": ""}, {"name": "function hasSavedSession(): boolean { hasSavedSession", "description": "Checks if there is a saved quiz session.", "scope": "", "scopeKind": ""}, {"name": "async function resumeIfAvailable(): Promise<boolean> { resumeIfAvailable", "description": "Resumes a saved session if one exists.", "scope": "", "scopeKind": ""}, {"name": "function resetSession() { resetSession", "description": "Clears saved session and resets quiz state.", "scope": "", "scopeKind": ""}, {"name": "function useFiftyFifty(): { ok: boolean; hidden: number[] } { useFiftyFifty", "description": "Removes two incorrect options for the current question.", "scope": "", "scopeKind": ""}, {"name": "function useSkipQuestion(): { ok: boolean } { useSkipQuestion", "description": "Skips the current question without affecting the score.", "scope": "", "scopeKind": ""}, {"name": "function useExtraTime(): { ok: boolean; remaining: number | null } { useExtraTime", "description": "Extends the timer for the current question.", "scope": "", "scopeKind": ""}, {"name": "function tickTimer(delta = 1): number | null { tickTimer", "description": "Decrements the current question timer.", "scope": "", "scopeKind": ""}, {"name": "function useAskHint(): { ok: boolean; hint?: string } { useAskHint", "description": "Reveals a hint for the current question.", "scope": "", "scopeKind": ""}, {"name": "function buildSession(): SessionSchema | null { buildSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function clearSession(): void { clearSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function persistSession() { persistSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function readScores(): ScoreEntry[] { readScores", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function safeReadSession(): SessionSchema | null { safeReadSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function safeWriteSession(payload: SessionSchema | null): void { safeWriteSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function touchAndPersist() { touchAndPersist", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function writeScores(scores: ScoreEntry[]): void { writeScores", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["buildQuestionsUrl", "saveSession", "loadQuestions", "persistSession", "safeReadSession", "safeWriteSession"], "search-terms": ["quiz", "store", "Pinia", "quiz questions", "session management", "lifelines", "scoreboard", "fallback pools", "question options", "timer", "localStorage"], "state": 2, "file_id": 19, "knowledge_revision": 49, "git_revision": "d023d339be464d40c1208d9daf198ccaaede852b", "revision_history": [{"47": "d023d339be464d40c1208d9daf198ccaaede852b"}, {"48": "d023d339be464d40c1208d9daf198ccaaede852b"}, {"49": "d023d339be464d40c1208d9daf198ccaaede852b"}], "ctags": [{"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const BASE = 20 \\/\\/ base seconds for gentle per-question timer when created$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "CategoryKey", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^export type CategoryKey = 'gk' | 'sports' | 'movies' | 'science' | 'history' | 'geography'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "EXT", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const EXT = 15$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "LifelineUsage", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type LifelineUsage = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "QuizQuestion", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^export type QuizQuestion = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SCOREBOARD_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SCOREBOARD_KEY = 'quizmaster:scores'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SESSION_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SESSION_KEY = 'quizmaster:session'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SESSION_VERSION", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SESSION_VERSION = 3$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ScoreEntry", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type ScoreEntry = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SessionSchema", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type SessionSchema = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "TimerState", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type TimerState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "addScore", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function addScore(entry: { player?: string | null; score: number; total: number; category: Cat/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "already", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const already = fiftyFiftyHidden.value[qid]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const base = apiBase.replace(\\/\\\\\\/*$\\/, '')$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "buildSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function buildSession(): SessionSchema | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "categoryParamMap", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const categoryParamMap: Record<CategoryKey, string> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "clearScores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function clearScores(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "clearSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function clearSession(): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "const", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const next = [normalized, ...existing].slice(0, 100) \\/\\/ cap to 100 entries$/", "language": "TypeScript", "kind": "constant", "scope": "addScore", "scopeKind": "function"}, {"_type": "tag", "name": "const", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SCOREBOARD_KEY = 'quizmaster:scores'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const controller = new AbortController()$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "correct", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const correct = selectedIndex.value === current.value.answerIndex$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "cur", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const cur = current.value$/", "language": "TypeScript", "kind": "constant", "scope": "tickTimer", "scopeKind": "function"}, {"_type": "tag", "name": "cur", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const cur = current.value$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "curId", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "buildSession", "scopeKind": "function"}, {"_type": "tag", "name": "curId", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "currentIndex", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "buildSession", "scopeKind": "function"}, {"_type": "tag", "name": "currentIndex", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const data: unknown = await res.json()$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const data = JSON.parse(raw) as Partial<SessionSchema> | unknown$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const existing = readScores()$/", "language": "TypeScript", "kind": "constant", "scope": "addScore", "scopeKind": "function"}, {"_type": "tag", "name": "explanation", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const explanation =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "explanation", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const explanation =$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "fallbackPools", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const fallbackPools: Record<CategoryKey, QuizQuestion[]> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hasSavedSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function hasSavedSession(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "hidden", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const hidden = shuffled.slice(0, Math.min(2, pool.length))$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "hint", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const hint =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "hint", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const hint =$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "listScores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function listScores(): ScoreEntry[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "loadQuestions", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  async function loadQuestions(): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const msg =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const next = [normalized, ...existing].slice(0, 100) \\/\\/ cap to 100 entries$/", "language": "TypeScript", "kind": "constant", "scope": "addScore", "scopeKind": "function"}, {"_type": "tag", "name": "nextQuestion", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function nextQuestion(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const normalized: ScoreEntry = {$/", "language": "TypeScript", "kind": "constant", "scope": "addScore", "scopeKind": "function"}, {"_type": "tag", "name": "notSelected", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const notSelected = wrongs.filter((i) => i !== selectedIndex.value)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "notSelected", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const pool = notSelected.length >= 2 ? notSelected : wrongs$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const obj = q as Record<string, unknown>$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const obj = data as Partial<SessionSchema>$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "param", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const param = categoryParamMap[selectedCategory.value] ?? selectedCategory.value$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const parsed = JSON.parse(raw)$/", "language": "TypeScript", "kind": "constant", "scope": "readScores", "scopeKind": "function"}, {"_type": "tag", "name": "persistSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function persistSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const pool = notSelected.length >= 2 ? notSelected : wrongs$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const prev = curId != null ? saved.selectedAnswers[curId] : null$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const saved = timers.value[qid]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const already = fiftyFiftyHidden.value[qid]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qid = cur.id$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qid = current.value.id$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qs: QuizQuestion[] = (obj.questions as unknown[])$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const r = q as Record<string, unknown>$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const raw = localStorage.getItem(SCOREBOARD_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "readScores", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const raw = localStorage.getItem(SESSION_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "readScores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function readScores(): ScoreEntry[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "referenceUrl", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const referenceUrl = typeof obj.referenceUrl === 'string' ? (obj.referenceUrl as str/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "referenceUrl", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const referenceUrl = typeof r.referenceUrl === 'string' ? (r.referenceUrl as string) : u/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "remaining", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    let remaining = timerState.value.remaining$/", "language": "TypeScript", "kind": "variable"}, {"_type": "tag", "name": "resetSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function resetSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resumeIfAvailable", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  async function resumeIfAvailable(): Promise<boolean> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const s = buildSession()$/", "language": "TypeScript", "kind": "constant", "scope": "persistSession", "scopeKind": "function"}, {"_type": "tag", "name": "safeReadSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function safeReadSession(): SessionSchema | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "safeWriteSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function safeWriteSession(payload: SessionSchema | null): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const saved = timers.value[qid]$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const saved = safeReadSession()$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "selectOption", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function selectOption(index: number) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "selectedCategory", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const param = categoryParamMap[selectedCategory.value] ?? selectedCategory.value$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "shuffled", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const shuffled = [...pool].sort(() => Math.random() - 0.5)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const source = typeof obj.source === 'string' ? (obj.source as string) : undefined$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const source = typeof r.source === 'string' ? (r.source as string) : undefined$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "submitAnswer", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function submitAnswer(): { correct: boolean } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "tickTimer", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function tickTimer(delta = 1): number | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "timeout", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const timeout = setTimeout(() => controller.abort(), 6000)$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "touchAndPersist", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function touchAndPersist() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const url = buildQuestionsUrl()$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const url = new URL(`${base}\\/api\\/questions`)$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useAskHint", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function useAskHint(): { ok: boolean; hint?: string } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useExtraTime", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function useExtraTime(): { ok: boolean; remaining: number | null } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useFiftyFifty", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function useFiftyFifty(): { ok: boolean; hidden: number[] } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "useQuizStore", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^export const useQuizStore = defineStore('quiz', () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "useSkipQuestion", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function useSkipQuestion(): { ok: boolean } {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "writeScores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function writeScores(scores: ScoreEntry[]): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "wrongs", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const wrongs = cur.options.map((_, i) => i).filter((i) => i !== cur.answerIndex)$/", "language": "TypeScript", "kind": "constant"}], "hash": "8c81da048df764a268725b3831bfd08c", "format-version": 4, "code-base-name": "quiz_game_frontend", "filename": "quiz_game_frontend/src/stores/quiz.ts", "fields": [{"name": "let remaining = timerState.value.remaining", "scope": "", "scopeKind": "", "description": "unavailable"}]}