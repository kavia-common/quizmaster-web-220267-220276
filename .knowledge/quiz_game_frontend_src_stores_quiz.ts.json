{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Pinia store for managing quiz state and data in a Vue-based web application. It includes types for questions, categories, and user progress, as well as functions for loading questions, handling answers, managing lifelines, session persistence, and score tracking.", "external_files": ["pinia", "vue"], "external_methods": ["defineStore"], "published": ["useQuizStore"], "classes": [], "methods": [{"name": "listAnalytics", "description": "Returns an array of analytics records, backfilling data from scores if necessary."}, {"name": "addScore", "description": "Adds a new score entry to localStorage and tracks analytics for completed quizzes."}, {"name": "listScores", "description": "Retrieves a list of saved scores sorted with most recent first."}, {"name": "clearScores", "description": "Clears all stored score data from localStorage."}, {"name": "function hasSavedSession(): boolean { hasSavedSession", "description": "Checks if a saved session exists in localStorage.", "scope": "", "scopeKind": ""}, {"name": "async function resumeIfAvailable(): Promise<boolean> { resumeIfAvailable", "description": "Attempts to load a saved quiz session from localStorage and restore state.", "scope": "", "scopeKind": ""}, {"name": "function resetSession() { resetSession", "description": "Clears the saved session data and resets current quiz state.", "scope": "", "scopeKind": ""}, {"name": "listAnalytics", "description": "Returns stored analytics data, with fallback to score-based analytics."}, {"name": "function buildAnalyticsMeta(mode: 'normal' | 'daily' | 'multiplayer' = 'normal'): AnalyticsRec/ buildAnalyticsMeta", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function buildQuestionsUrl(): string { buildQuestionsUrl", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function buildSession(): SessionSchema | null { buildSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "async function loadQuestions(): Promise<void> { loadQuestions", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function nextQuestion(): boolean { nextQuestion", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function persistSession() { persistSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function readAnalytics(): AnalyticsRecord[] { readAnalytics", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function readScores(): ScoreEntry[] { readScores", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function resetAll() { resetAll", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function safeReadSession(): SessionSchema | null { safeReadSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function safeWriteSession(payload: SessionSchema | null): void { safeWriteSession", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function selectOption(index: number) { selectOption", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "function setCategory(cat: CategoryKey) { setCategory", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "localStorage.setItem", "localStorage.removeItem", "JSON.parse", "JSON.stringify"], "search-terms": ["pinia store", "quiz questions", "session persistence", "score management", "lifelines", "question loading", "analytics", "vue composition API"], "state": 2, "file_id": 19, "knowledge_revision": 71, "git_revision": "bbb0b61393d84ac73b04db2bb530fd274b4998f3", "revision_history": [{"47": "d023d339be464d40c1208d9daf198ccaaede852b"}, {"48": "d023d339be464d40c1208d9daf198ccaaede852b"}, {"49": "d023d339be464d40c1208d9daf198ccaaede852b"}, {"67": "bbb0b61393d84ac73b04db2bb530fd274b4998f3"}, {"68": "bbb0b61393d84ac73b04db2bb530fd274b4998f3"}, {"71": "bbb0b61393d84ac73b04db2bb530fd274b4998f3"}], "ctags": [{"_type": "tag", "name": "ANALYTICS_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const ANALYTICS_KEY = 'quizmaster:analyticsHistory'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "AnalyticsRecord", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type AnalyticsRecord = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const BASE = 20 \\/\\/ base seconds for gentle per-question timer when created$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "CategoryKey", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^export type CategoryKey = 'gk' | 'sports' | 'movies' | 'science' | 'history' | 'geography'$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "EXT", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const EXT = 15$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "LifelineUsage", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type LifelineUsage = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "QuizQuestion", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^export type QuizQuestion = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SCOREBOARD_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SCOREBOARD_KEY = 'quizmaster:scores'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SESSION_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SESSION_KEY = 'quizmaster:session'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "SESSION_VERSION", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SESSION_VERSION = 3$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "ScoreEntry", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type ScoreEntry = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "SessionSchema", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type SessionSchema = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "TimerState", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^type TimerState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "already", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const already = fiftyFiftyHidden.value[qid]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "analytics", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const analytics = readAnalytics()$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "apiBase", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const apiBase =$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuestionsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "arr", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const arr = JSON.parse(raw)$/", "language": "TypeScript", "kind": "constant", "scope": "readAnalytics", "scopeKind": "function"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const base = apiBase.replace(\\/\\\\\\/*$\\/, '')$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuestionsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "buildAnalyticsMeta", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function buildAnalyticsMeta(mode: 'normal' | 'daily' | 'multiplayer' = 'normal'): AnalyticsRec/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "buildQuestionsUrl", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function buildQuestionsUrl(): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "buildSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function buildSession(): SessionSchema | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "categoryParamMap", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const categoryParamMap: Record<CategoryKey, string> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "const", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const next = [normalized, ...existing].slice(0, 100) \\/\\/ cap to 100 entries$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "const", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const SCOREBOARD_KEY = 'quizmaster:scores'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "controller", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const controller = new AbortController()$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "correct", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const correct = selectedIndex.value === current.value.answerIndex$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "correctFlags", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const correctFlags: boolean[] = []$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "cur", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const cur = current.value$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "curId", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "buildSession", "scopeKind": "function"}, {"_type": "tag", "name": "curId", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "currentIndex", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "buildSession", "scopeKind": "function"}, {"_type": "tag", "name": "currentIndex", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const curId = questions.value[currentIndex.value]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const data: unknown = await res.json()$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const data = JSON.parse(raw) as Partial<SessionSchema> | unknown$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "durations", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const durations: number[] = []$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "en", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const en = qEndTs.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const existing = readAnalytics()$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "existing", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const existing = readScores()$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "explanation", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const explanation =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "explanation", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const explanation =$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "fallbackPools", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^const fallbackPools: Record<CategoryKey, QuizQuestion[]> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "firstId", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const firstId = questions.value[0]?.id$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "hasSavedSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function hasSavedSession(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "hidden", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const hidden = shuffled.slice(0, Math.min(2, pool.length))$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "hint", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const hint =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "hint", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const hint =$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "i", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const q = questions.value[i]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "isDaily", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const isDaily = normalized.meta && typeof normalized.meta === 'object' && (normalized.meta a/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "isMp", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const isMp = normalized.meta && typeof normalized.meta === 'object' && (normalized.meta as {/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "loadQuestions", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  async function loadQuestions(): Promise<void> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "longestCorrectStreak", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const longestCorrectStreak = correctFlags.reduce($/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "msg", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const msg =$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const next = [normalized, ...existing].slice(0, 100) \\/\\/ cap to 100 entries$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "nextQuestion", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function nextQuestion(): boolean {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const normalized: ScoreEntry = {$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "notSelected", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const notSelected = wrongs.filter((i) => i !== selectedIndex.value)$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "notSelected", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const pool = notSelected.length >= 2 ? notSelected : wrongs$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const obj = q as Record<string, unknown>$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const obj = data as Partial<SessionSchema>$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "param", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const param = categoryParamMap[selectedCategory.value] ?? selectedCategory.value$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuestionsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const parsed = JSON.parse(raw)$/", "language": "TypeScript", "kind": "constant", "scope": "readScores", "scopeKind": "function"}, {"_type": "tag", "name": "persistSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function persistSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "pool", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const pool = notSelected.length >= 2 ? notSelected : wrongs$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const prev = curId != null ? saved.selectedAnswers[curId] : null$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const en = qEndTs.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const q = questions.value[i]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const sel = selectedAnswers.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const st = qStartTs.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const saved = timers.value[qid]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const already = fiftyFiftyHidden.value[qid]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qid = cur.id$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "qid", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qid = current.value.id$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qs", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const qs: QuizQuestion[] = (obj.questions as unknown[])$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "r", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const r = q as Record<string, unknown>$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const raw = localStorage.getItem(ANALYTICS_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "readAnalytics", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const raw = localStorage.getItem(SCOREBOARD_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "readScores", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const raw = localStorage.getItem(SESSION_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "readAnalytics", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function readAnalytics(): AnalyticsRecord[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "readScores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function readScores(): ScoreEntry[] {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "recordAnalytics", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function recordAnalytics(meta: AnalyticsRecord | null) {$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "referenceUrl", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const referenceUrl = typeof obj.referenceUrl === 'string' ? (obj.referenceUrl as str/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "referenceUrl", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const referenceUrl = typeof r.referenceUrl === 'string' ? (r.referenceUrl as string) : u/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "resetAll", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function resetAll() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resetSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function resetSession() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "resumeIfAvailable", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  async function resumeIfAvailable(): Promise<boolean> {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const s = buildSession()$/", "language": "TypeScript", "kind": "constant", "scope": "persistSession", "scopeKind": "function"}, {"_type": "tag", "name": "safeReadSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function safeReadSession(): SessionSchema | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "safeWriteSession", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^function safeWriteSession(payload: SessionSchema | null): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const saved = timers.value[qid]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "saved", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const saved = safeReadSession()$/", "language": "TypeScript", "kind": "constant", "scope": "resumeIfAvailable", "scopeKind": "function"}, {"_type": "tag", "name": "scores", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const scores = readScores()$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "sel", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const sel = selectedAnswers.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "selectOption", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function selectOption(index: number) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "selectedCategory", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const param = categoryParamMap[selectedCategory.value] ?? selectedCategory.value$/", "language": "TypeScript", "kind": "constant", "scope": "buildQuestionsUrl", "scopeKind": "function"}, {"_type": "tag", "name": "setCategory", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^  function setCategory(cat: CategoryKey) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "shuffled", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^    const shuffled = [...pool].sort(() => Math.random() - 0.5)$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^            const source = typeof obj.source === 'string' ? (obj.source as string) : undefined$/", "language": "TypeScript", "kind": "constant", "scope": "loadQuestions", "scopeKind": "function"}, {"_type": "tag", "name": "source", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^        const source = typeof r.source === 'string' ? (r.source as string) : undefined$/", "language": "TypeScript", "kind": "constant", "scope": "safeReadSession", "scopeKind": "function"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/quiz.ts", "pattern": "/^      const st = qStartTs.value[q.id]$/", "language": "TypeScript", "kind": "constant", "scope": "buildAnalyticsMeta", "scopeKind": "function"}], "hash": "abbd3cf0aefd7f00538d8a4c6172686e", "format-version": 4, "code-base-name": "quiz_game_frontend", "filename": "quiz_game_frontend/src/stores/quiz.ts"}