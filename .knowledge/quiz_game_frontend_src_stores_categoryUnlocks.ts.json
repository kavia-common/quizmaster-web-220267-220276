{"is_source_file": true, "file_id": 27, "git_revision": "", "state": 1, "description": "", "external_files": [], "external_methods": [], "published": [], "classes": [], "methods": [], "calls": [], "search-terms": [], "ctags": [{"_type": "tag", "name": "CategoryUnlockSchema", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^export type CategoryUnlockSchema = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "DEFAULT_THRESH", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^const DEFAULT_THRESH = 80$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^const STORAGE_KEY = 'quizmaster:categoryUnlocks.v1'$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "accuracyPercent", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const { category, accuracyPercent, mode = 'normal' } = payload$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "allPrereqsMet", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^function allPrereqsMet(unlocked: Record<CategoryKey, boolean>, prereqs: CategoryKey[]): boolean /", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "cat", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    return map[cat] || String(cat)$/", "language": "TypeScript", "kind": "constant", "scope": "labelFor", "scopeKind": "function"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const prereqs = state.value.prerequisites[category] || []$/", "language": "TypeScript", "kind": "constant", "scope": "getLockedReason", "scopeKind": "function"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const { category, accuracyPercent, mode = 'normal' } = payload$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "chain", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const chain = prereqs.map((c) => labelFor(c)).join(' \u2192 ')$/", "language": "TypeScript", "kind": "constant", "scope": "getLockedReason", "scopeKind": "function"}, {"_type": "tag", "name": "dailyCountsForUnlocks", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const dailyCountsForUnlocks = !!obj.dailyCountsForUnlocks$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "defaultPrereqs", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^const defaultPrereqs: Record<CategoryKey, CategoryKey[]> = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "defaultUnlocked", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^function defaultUnlocked(): Record<CategoryKey, boolean> {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "evaluateUnlocksFromScore", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^  function evaluateUnlocksFromScore(payload: { category: CategoryKey; accuracyPercent: number; m/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "getLockedReason", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^  function getLockedReason(category: CategoryKey): string | null {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "k", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^      const prereqCats = state.value.prerequisites[k] || []$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "keys", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const keys: CategoryKey[] = ['gk', 'sports', 'movies', 'science', 'history', 'geography']$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "labelFor", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^  function labelFor(cat: CategoryKey): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "lastUpdated", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const lastUpdated = typeof obj.lastUpdated === 'number' ? obj.lastUpdated : Date.now()$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const map: Record<CategoryKey, string> = {$/", "language": "TypeScript", "kind": "constant", "scope": "labelFor", "scopeKind": "function"}, {"_type": "tag", "name": "map", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    return map[cat] || String(cat)$/", "language": "TypeScript", "kind": "constant", "scope": "labelFor", "scopeKind": "function"}, {"_type": "tag", "name": "mode", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const { category, accuracyPercent, mode = 'normal' } = payload$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "newly", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const newly: CategoryKey[] = []$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const lastUpdated = typeof obj.lastUpdated === 'number' ? obj.lastUpdated : Date.now()$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "obj", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const obj = JSON.parse(raw) as Partial<CategoryUnlockSchema>$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "prereqCats", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^      const prereqCats = state.value.prerequisites[k] || []$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "prereqs", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const prereqs = state.value.prerequisites[category] || []$/", "language": "TypeScript", "kind": "constant", "scope": "getLockedReason", "scopeKind": "function"}, {"_type": "tag", "name": "prerequisites", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const prerequisites = (obj.prerequisites as any) || defaultPrereqs$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const raw = localStorage.getItem(STORAGE_KEY)$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "readState", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^function readState(): CategoryUnlockSchema {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "return", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    return map[cat] || String(cat)$/", "language": "TypeScript", "kind": "constant", "scope": "labelFor", "scopeKind": "function"}, {"_type": "tag", "name": "threshold", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const threshold = state.value.thresholds.scorePercent$/", "language": "TypeScript", "kind": "constant", "scope": "evaluateUnlocksFromScore", "scopeKind": "function"}, {"_type": "tag", "name": "thresholds", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const thresholds = { scorePercent: Math.max(0, Math.min(100, (obj.thresholds as any)?.scoreP/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "unlock", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^  function unlock(category: CategoryKey): void {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "unlocked", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^    const unlocked: Record<CategoryKey, boolean> = {$/", "language": "TypeScript", "kind": "constant", "scope": "readState", "scopeKind": "function"}, {"_type": "tag", "name": "useCategoryUnlockStore", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^export const useCategoryUnlockStore = defineStore('categoryUnlocks', () => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "writeState", "path": "/home/kavia/workspace/code-generation/quizmaster-web-220267-220276/quiz_game_frontend/src/stores/categoryUnlocks.ts", "pattern": "/^function writeState(s: CategoryUnlockSchema) {$/", "language": "TypeScript", "kind": "function"}], "format": "TypeScript", "hash": "6bd2aecb5e48a5094265d384f7a592a6", "format-version": 4, "code-base-name": "quiz_game_frontend", "filename": "quiz_game_frontend/src/stores/categoryUnlocks.ts", "knowledge_revision": 83}